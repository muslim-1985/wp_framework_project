!function(a){"use strict";function b(b){var c=this;if(!(b.driver instanceof Object))throw new Error("Driver parameter mast be set!");this.options=b,this.options.qoobUrl=this.options.qoobUrl||("file:"!=window.location.protocol?window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")+"/":"")+"qoob/",this.options.qoobUrl=this.options.qoobUrl+(-1!==this.options.qoobUrl.indexOf("/",this.options.qoobUrl.length-"/".length)?"":"/");var d=this.options.qoobUrl+"loader.min.js",e=document.createElement("script");e.setAttribute("type","text/javascript"),e.setAttribute("src",d),e.onload=function(){b.driver.loadLibrariesData(function(b,c){window.loader=new Loader,window.loader.once("complete",function(){try{window.parent.frames["qoob-iframe"]&&(a("#qoob-blocks").empty(),window.parent.jQuery("#qoob-iframe").trigger("libraries_loaded"))}catch(a){}a.holdReady(!1)});for(var d=0;d<c.length;d++){var e=c[d].url.replace(/\/+$/g,"")+"/";if(c[d].res)for(var f=c[d].res,g=0;g<f.length;g++)0!==f[g].src.indexOf("http://")&&0!==f[g].src.indexOf("https://")&&(f[g].src=e+f[g].src.replace(/^\/+/g,"")),window.loader.add(f[g])}window.loader.start()})},e.onerror=function(){console.log("Can't load loader.js file at "+c.options.qoobUrl)},document.head.appendChild(e)}a.holdReady(!0),window.QoobStarter=b}(jQuery);